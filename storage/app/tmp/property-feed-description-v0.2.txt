
Основные положения по новой структуре данных фида недвижимости (v0.2)

Особенность предложенной ниже структуры заключается в том, что
благодаря наличию ключей внешних связей в структуре фида, можно
структурировать не только здание с офисами, но и создавать
различные структуры по прочим признакам, например, когда есть
не одно здание а комплекс, или когда есть много собственников 
офисов в одном здании, ну и т.д.

----------------
Ключевой элемент: 
<unit-estate> единица объекта недвижимости (building|office|...)
Он определяет дальнейший состав элементов фида.
----------------
Элемент сделки:
<deal-type> тип (вид) сделки (rent|sale)
Этот элемент также определяет дальнейший состав фида, но уже в ключе 
текущего значения <unit-estate>
----------------

В составе фида имеются безусловно общие для всех типов <unit-estate> элементы:
<category>, <description>, <image>, <video-review>. 

А также те, что определены необходимым(и) условиями верхнего уровня:
----------------
<has-many> (строка, содержащая ряд internal-id, разделенных запятой) 
- обязательный элемент для группы <building>, определяющий, имеет ли 
здание в своем составе другие единицы недвижимости <unit-estate> 
(например, офисы) или нет, в случае, если оно сдается/продается 
полностью, без деления на отдельные предложения.
---------------- 
<belongs-to> (строка, содержащая значение internal-id) - обязательный 
элемент для группы: <office> и пр. групп, за исключением <building>, 
определяющая, принадлежность данной единицы какому либо строению, 
которое есть в списке предложений. Если значение этого элемента
окажется пустым (либо "no"), то это должно указывать на то, что 
данный объект сдается/продается индивидуально.  
----------------
Группа <office> - обязательный элемент для условия: <unit-estate> == office
----------------
Группа <building> - обязательный элемент для условия: <unit-estate> == building
а также для условия: (<unit-estate> != building && <belongs-to> != no)
То-есть, эта группа данных должна присутствовать для объекта типа "здание", 
либо у отдельно продаваемого/арендуемого помещения.
----------------
Группа <location> - обязательный элемент для условия: <unit-estate> == building 
а также для условия: (<unit-estate> != building && <belongs-to> != no)
То-есть, также, как и для группы <building> эта группа данных должна присутствовать 
в фиде для объекта типа "здание", либо у отдельно продаваемого/арендуемого помещения.
----------------
Группа <rent> - обязательный элемент для условия: <deal-type> == rent 
---------------- 
Группа <sale> - обязательный элемент для условия: <deal-type> == sale
----------------
Группа <price-rent> - обязательный элемент для условия: <deal-type> == rent
----------------
Группа <price-sale> - обязательный элемент для условия: <deal-type> == sale
----------------
<current-tenant> (string) - обязательный элемент для условия: <deal-type> == rent
----------------
Группа <sales-agent> - обязательный элемент для условия: <unit-estate> == building
а также для условия: (<unit-estate> != building && <belongs-to> != no)
----------------
<url> (string) - необязательный элемент для условия: <unit-estate> == building
а также для условия: (<unit-estate> != building && <belongs-to> != no)
----------------
<car-place> (parking|...) - необязательный элемент для условия: <unit-estate> == building
а также для условия: (<unit-estate> != building && <belongs-to> != no)
----------------
Группа <parking> - обязательный элемент для условия: <car-place> == parking
----------------
Группа <rent-includes> - обязательный элемент для условия: 
(<deal-type> == rent && (<unit-estate> != building OR (<unit-estate> == building && <has-many> == no)))     
----------------
Группа <rent-telecom> - обязательный элемент для условия: 
<deal-type> == rent && <unit-estate> != building 
----------------
Группа <sale-telecom> - обязательный элемент для условия: 
<deal-type> == sale && <unit-estate> != building 
----------------
Группа <office-features> - необязательный элемент для условия: <unit-estate> == office
----------------
Группа <building-features> - необязательный элемент для условия: <unit-estate> == building
а также для условия: (<unit-estate> != building && <belongs-to> != no)
----------------
